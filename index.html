<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Invitación Posada Femsa Tlalnepantla</title>

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Invitación Posada Femsa Tlalnepantla">
  <meta property="og:description" content="Ven con toda tu familia">
  <meta property="og:image" content="https://geraldream.github.io/posadafemsatlalnepantla/Portada.png">
  <meta property="og:url" content="https://geraldream.github.io/posadafemsatlalnepantla/">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Invitación Posada Femsa Tlalnepantla">
  <meta name="twitter:description" content="Ven con toda tu familia">
  <meta name="twitter:image" content="https://geraldream.github.io/posadafemsatlalnepantla/Portada.png">

  <style>
    html,body{margin:0;padding:0;background:#fff;width:100%;height:100%;overflow:hidden}

    .fondo{
      position:relative; margin:0 auto; width:400px; height:100dvh;
      background:url('Fondo.png') no-repeat center top;
      background-size:100% 100%; overflow:hidden
    }

    .santa{
      position:absolute; bottom:0; right:0; width:180px; max-width:40%; z-index:3;
      animation:entraSanta 1.5s ease-out forwards, bailaSanta 2s ease-in-out infinite alternate;
      animation-delay:0s,1.5s;
    }
    .santa img{width:100%;height:auto;display:block}
    @keyframes entraSanta{from{transform:translateX(100%);}to{transform:translateX(0);}}
    @keyframes bailaSanta{
      0%{transform:translateX(0) rotate(-3deg);}
      50%{transform:translateX(5px) rotate(3deg);}
      100%{transform:translateX(0) rotate(-3deg);}
    }

    .contador{
      position:absolute; bottom:9%; left:30%; transform:translateX(-50%) scale(1.2);
      display:inline-block; text-align:center; font-family:'Comic Sans MS',cursive;
      color:#fff; font-weight:bold; z-index:4;
      background:linear-gradient(45deg,#233a4d,#3a5368,#c0c0c0);
      border:2px dashed #000; border-radius:10px; padding:6px 10px;
      box-shadow:0 0 5px rgba(0,0,0,.3);
    }
    .contador h3{margin:0 0 6px; font-size:1.1em; color:#fff; text-shadow:1px 1px #000}
    .fila{display:flex; justify-content:center; gap:14px; margin-bottom:3px}
    .unidad{
      font-size:1.4em; color:#fff; text-shadow:1px 1px #000;
      animation:zoomNumber 1s ease-in-out infinite alternate;
    }
    .label{font-size:.75em; color:#fff; text-shadow:1px 1px #000}
    @keyframes zoomNumber{0%{transform:scale(1);color:#fff;}100%{transform:scale(1.15);color:#ff0000;}}

    .boton{position:absolute; bottom:calc(10% + 160px); left:37%; transform:translateX(-50%); z-index:5}
    .boton img{width:200px; max-width:70%; height:auto; display:block; animation:pulsoBoton 2s ease-in-out infinite}
    @keyframes pulsoBoton{0%{transform:scale(1);}50%{transform:scale(1.05);}100%{transform:scale(1);}}

    #snow{position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:10}

    .music-btn{
      position:absolute; bottom:8px; left:50%; transform:translateX(-50%);
      background:linear-gradient(135deg,#233a4d,#3a5368,#c0c0c0); border:2px solid #000; border-radius:50%;
      width:45px; height:45px; display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:11;
      box-shadow:0 0 5px rgba(0,0,0,.4); animation:pulsoMusica 3s ease-in-out infinite;
    }
    .music-btn span{color:#fff; font-size:18px}
    @keyframes pulsoMusica{
      0%{transform:translateX(-50%) scale(1);}
      50%{transform:translateX(-50%) scale(1.1);}
      100%{transform:translateX(-50%) scale(1);}
    }

    @media(max-width:600px){
      .fondo{width:100vw; height:100dvh; background-size:100% 100%; background-position:center top}
      .contador{bottom:7%; left:30%; transform:translateX(-50%) scale(1)}
      .boton{bottom:calc(10% + 140px); left:37%; transform:translateX(-50%)}
      .boton img{width:200px; max-width:70%}
      .santa{width:150px; max-width:50%}
      .music-btn{width:40px; height:40px}
      .music-btn span{font-size:16px}
    }
  </style>
</head>

<body>
  <div class="fondo" id="fondo">
    <canvas id="snow"></canvas>
    <div class="santa"><img src="Santa.png" alt="Santa Claus"></div>

    <div class="boton">
      <a href="https://maps.app.goo.gl/suNSnX1s2rWXWQw39" target="_blank" rel="noopener noreferrer">
        <img src="Boton.png" alt="Botón">
      </a>
    </div>

    <div class="contador">
      <h3>Faltan:</h3>
      <div class="fila">
        <div><div class="unidad" id="dias">00</div><div class="label">días</div></div>
        <div><div class="unidad" id="horas">00</div><div class="label">horas</div></div>
      </div>
      <div class="fila">
        <div><div class="unidad" id="minutos">00</div><div class="label">min.</div></div>
        <div><div class="unidad" id="segundos">00</div><div class="label">seg.</div></div>
      </div>
    </div>

    <div class="music-btn" id="musicBtn"><span>♫</span></div>
    <audio id="musica" src="Musica.mp3" loop preload="auto" playsinline style="display:none;"></audio>
  </div>

  <script>
    // ===== Contador =====
    const evento = new Date("2026-12-19T15:00:00").getTime();
    function actualizarContador(){
      const ahora = Date.now(), diff = Math.max(0, evento - ahora);
      const dias = Math.floor(diff/(1000*60*60*24));
      const horas = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
      const minutos = Math.floor((diff%(1000*60*60))/(1000*60));
      const segundos = Math.floor((diff%(1000*60))/1000);
      document.getElementById("dias").textContent = String(dias).padStart(2,'0');
      document.getElementById("horas").textContent = String(horas).padStart(2,'0');
      document.getElementById("minutos").textContent = String(minutos).padStart(2,'0');
      document.getElementById("segundos").textContent = String(segundos).padStart(2,'0');
    }
    actualizarContador();
    setInterval(actualizarContador,1000);

    // ===== Nieve =====
    const canvas = document.getElementById('snow'), ctx = canvas.getContext('2d');
    let width, height;
    function resize(){width = canvas.width = canvas.offsetWidth; height = canvas.height = canvas.offsetHeight;}
    window.addEventListener('resize', resize); resize();
    const flakes = [];
    for(let i=0;i<60;i++){
      flakes.push({x:Math.random()*width,y:Math.random()*height,r:Math.random()*3+1,d:Math.random()+1});
    }
    function drawSnow(){
      ctx.clearRect(0,0,width,height);
      ctx.fillStyle="rgba(255,255,255,0.8)";
      ctx.beginPath();
      for(let f of flakes){ctx.moveTo(f.x,f.y);ctx.arc(f.x,f.y,f.r,0,Math.PI*2,true);}
      ctx.fill();
      updateSnow();
    }
    function updateSnow(){
      for(let f of flakes){
        f.y+=f.d;
        if(f.y>height){f.y=0;f.x=Math.random()*width;}
      }
    }
    setInterval(drawSnow,30);

    // ===== Música =====
    const musica = document.getElementById('musica');
    const musicBtn = document.getElementById('musicBtn');

    // Intento automático (silencioso); móviles requieren interacción
    document.addEventListener('DOMContentLoaded', () => {
      musica.play().catch(()=>{});
    });

    // Segundo intento en primera interacción
    function secondAttempt(){
      if(musica.paused){musica.play().catch(()=>{});}
    }
    document.addEventListener('click', secondAttempt, { once:true });
    document.addEventListener('touchstart', secondAttempt, { once:true });

    // Botón play/pause
    musicBtn.addEventListener('click', () => {
      if(musica.paused){musica.play().catch(()=>{});} else {musica.pause();}
    });
  </script>
</body>
</html>
